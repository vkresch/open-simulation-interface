<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>open_simulation_interface: Open Simulation Interface (OSI)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">open_simulation_interface
   &#160;<span id="projectnumber">3.1.GitHub_MasterBranch</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Open Simulation Interface (OSI) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/vkresch/open-simulation-interface"></a></p>
<p><a href="https://opensimulationinterface.github.io/open-simulation-interface/">Online Doxygen Documentation</a></p>
<h2>General description </h2>
<p><a href="https://www.hot.ei.tum.de/forschung/automotive-veroeffentlichungen/">TUM Department of Electrical and Computer Engineering</a></p>
<h2>Global remarks </h2>
<p>All fields in the interface are set to optional and required is not used. This has been done to allow backward compatible changes in the field. Additionally, this is the default behavior in protobuf version 3 that does no longer have the required type and therefore ensures update compatibility. However, this does not mean that filling the field is optional. For the purpose of providing a complete interface, all existing fields should be set, unless not setting a field carries a specific meaning as indicated in the accompanying comment.</p>
<h2>Compatibility </h2>
<p>Definition: FAITHFULLY "All recorded data is correctly interpreted by the interface"</p>
<p>Forward compatibility: Definition: "An older version of the code can be used to read new files" Data recorded with a higher minor or patch version can be interpreted by code built using the same major version of the interface but lower minor and/or patch version. In this case, additional fields of a newer minor version are silently ignored. All patch versions of the same major and minor version are FAITHFULLY forward compatible.</p>
<p>Backward compatibility: Definition: "A newer version of code can be used to read old files" All files that have been recorded in the past with a specific major version are FAITHFULLY valid with all combinations of higher minor and patch versions of the same major version.</p>
<h2>Fault injection: how-to </h2>
<p>Injection of pre-defined sensor errors should be handled by a specialized "fault injector" component that acts like a sensor model component, i.e. it takes a SensorData message as input and returns a modified SensorData message as output. Specific errors should be handled as follows:</p><ul>
<li>Ghost objects / false positive: An additional SensorDataObject is added to the list of objects in SensorData.object with SensorDataObject.model_internal_object.ground_truth_type set to kTypeGhost.</li>
<li>False negative: The object is marked as not seen by the sensor by setting the property SensorDataObject.model_internal_object.is_seen to false. The implementation of field-of-view calculation modules should respect this flag and never reset an object marked as not-seen to seen.</li>
</ul>
<h2>Versioning </h2>
<p>The version number is defined in InterfaceVersion::version_number in osi_common.proto as the field's default value.</p>
<p>Major: A change of the major version results in an incompatibility of code and recorded proto messages.</p><ul>
<li>An existing field with a number changes its meaning <code>optional double field = 1;</code> -&gt; <code>repeated double field = 1;</code> Changing the definition of units or interpretation of a field</li>
<li>Deleting a field and reusing the field number</li>
<li>Changing the technology ProtoBuffer -&gt; FlatBuffer</li>
</ul>
<p>Minor: A change of the minor version indicates remaining compatibility to previously recorded files. The code on the other hand needs fixing.</p><ul>
<li>Renaming of a field without changing the field number</li>
<li>Changing the names of messages</li>
<li>Adding a new field in a message without changing the numbering of other fields</li>
</ul>
<p>Patch: The compatibility of both recorded files and code remains.</p><ul>
<li>File or folder structure which does not affect including the code in other projects</li>
<li>Changing or adding comments</li>
<li>Clarification of text passages explaining the message content</li>
</ul>
<h2>Proto3 Support </h2>
<p>For users that need to use proto3 syntax, for example because the language binding of choice only supports proto3 syntax out of the box, a shell script called <code>convert-to-proto3.sh</code> is supplied that converts all proto files to proto3 syntax. If this is run prior to building, the resulting libaries will use proto3, with the on-the-wire format remaining compatible between proto2 and proto3 libraries.</p>
<h2>Packaging </h2>
<p>A specification to package sensor models using OSI as (extended) Functional Mock-up Units (FMUs) for use in simulation environments is available <a href="https://github.com/OpenSimulationInterface/osi-sensor-model-packaging">here</a>.</p>
<h2>Documentation </h2>
<p>The actual documentation of the GitHub master branch is <a href="https://opensimulationinterface.github.io/open-simulation-interface/">online</a> available.</p>
<p>Detailed information about installation and usage of OSI can be found in the <a href="https://github.com/OpenSimulationInterface/open-simulation-interface/wiki">Wiki</a></p>
<p>In order to generate the doxygen documentation for OSI, please follow the following steps:</p><ol type="1">
<li>Install <a href="http://www.stack.nl/~dimitri/doxygen/download.html">Doxygen</a>, set an environmental variable 'doxygen' with the path to the binary file and add it to the PATH variable: <code>PATH += doxygen%</code>.</li>
<li>Download the <a href="https://github.com/OpenSimulationInterface/proto2cpp">proto2cpp</a> repo. Copy the content of the repo proto2cpp to your desired <code>&lt;path-to-proto2cpp.py&gt;</code></li>
<li>Install <a href="https://graphviz.gitlab.io/_pages/Download/Download_windows.html">graphviz</a>, set an environmental variable 'graphviz' with the path to the binary file and add it to the PATH variable: <code>PATH += graphviz%</code>.</li>
<li>From the cmd navigate to the build directory and run: <code>cmd cmake -DFILTER_PROTO2CPP_PY_PATH=&lt;path-to-proto2cpp.py&gt; &lt;path-to-CMakeLists.txt&gt;</code></li>
<li>The build process will then generate the doxygen documentation under the directory doc.</li>
</ol>
<h2>Citing </h2>
<p>Use the following citation for referencing the OSI interface in your scientific work: ` {osi.2017, author = {Hanke, Timo and Hirsenkorn, Nils and {van~Driesten}, Carlo and {Garcia~Ramos}, Pilar and Schiementz, Mark and Schneider, Sebastian}, year = {2017}, title = {{Open Simulation Interface: A generic interface for the environment perception of automated driving functions in virtual scenarios.}}, url = {<a href="http://www.hot.ei.tum.de/forschung/automotive-veroeffentlichungen/">http://www.hot.ei.tum.de/forschung/automotive-veroeffentlichungen/</a>}, note = {{Accessed: 2017-08-28}} } ` </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
